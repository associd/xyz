<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Select-Sort</title>
  <style media="screen">
    *{
      transition: all .4s;
    }
    .p-center{
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    .flex{
      display: flex;
    }
    .array{
      height:300px;
      width: 520px;
      overflow: auto;
    }
    .array>.square{
      position: absolute;
    }
    .board{
      margin-top: 20px;
      position: relative;
    }
    .square{
      width: 50px;
      height: 50px;
      margin: 5px;
      text-align: center;
      line-height: 50px;
      font-size: 16px;
      font-weight: bold;
      border: 1px solid black;
    }
    .operation{
      text-align: center;
    }
    .code{
      padding: 20px 20px;
      font-size: 20px;
      font-weight: bold;
      font-family: cursive;
      color: white;
      background-color: black;
    }
    .sort{
       background-color: white;
    }
    button{
      padding: 5px 10px;
      font-size: 20px;
      outline: none;
      border: 1px solid lightblue;
      background-color: transparent;
      cursor: pointer;
      transition: all 0.4s;
    }
    button:hover{
       transform: scale(1.2);
    }
    button:active{
      transform: scale(1.1);
<<<<<<< HEAD
    }
    .function{
       color: purple;
    }
    .function-name{
      color: lightblue;
    }
=======
   }
>>>>>>> 72ca30625cad7f671a3574754e07ac34db3c7aff

    @keyframes fadeIn {
      from{
        filter: opacity(0);
      }
      to{
        filter: opacity(1);
      }
    }
  </style>
</head>
<body>
  <div class="p-center">
    <div class="board flex array">
      <!-- <div class="square">1</div>
      <div class="square">2</div>
      <div class="square">3</div>
      <div class="square">4</div>
      <div class="square">5</div>
      <div class="square">6</div> -->
    </div>
    <div class="board">
      <div class="operation">
        <button class="sort" type="button" name="button" onclick="changeSquare(SelectSort(array, document.querySelectorAll('.array>.square')), document.querySelectorAll('.array>.square'))">sort</button>
        <input class="array-size" type="number" name="" value="10">
      </div>
      <pre class="code">
<span class="function">function</span> <span class="function-name">SelectSort</span>(arr) {
  let array = arr.slice()
  for(let i = 0; i < array.length; i++) {
    for(let j = i; j < array.length; j++) {
      if(array[j] < array[i]) {
        let t = array[j]
        array[j] = array[i]
        array[i] = t
      }
    }
  }
  return array
}
      </pre>
    </div>
  </div>
  <script>
    const board = document.querySelector(".board.array")
    const input = document.querySelector(".array-size")
    let arraySize = input.value
    window.addEventListener("input", event => {
      arraySize = input.value
      array = getRandomArray(arraySize)
      renderBoard(array)
    })

    let array = getRandomArray(arraySize)

    renderBoard(array)

    function getRandomArray(size) {
      let array = []
      for (var i = 0; i < size; i++) {
        array[i] = rand(1, 10)
      }
      return array
    }

    function renderBoard(array) {
      board.innerHTML = ''
      for (var i = 0; i < array.length; i++) {
        let div = document.createElement("div")
        div.innerHTML = array[i]
        div.className = "square"
        div.style.left = `${(i % 8) * 50 + (i % 8) * 10 + (i % 8) * 2}px`
        div.style.top = `${Math.floor(i / 8) * 50 + Math.floor(i / 8) * 10 + Math.floor(i / 8) * 2}px`
        div.style.background = `rgba(170, 210, 230, ${array[i] * 0.1})`
        board.append(div)
      }
      board.style.height = (Math.floor((i-1) / 8) + 1) * 62 + "px"
    }

    function changeSquare(changed, domArray) {
      if(changed.length) {
        var step = changed.shift()

        let tx = domArray[step.a].style.left
        let ty = domArray[step.a].style.top

        domArray[step.a].style.left = domArray[step.b].style.left
        domArray[step.a].style.top = domArray[step.b].style.top
        domArray[step.b].style.left = tx
        domArray[step.b].style.top = ty
      }
    }

    function SelectSort(array, domArray) {
      let changed = []
      for(let i = 0; i < array.length; i++) {
        for(let j = i; j < array.length; j++) {
          if(array[j] < array[i]) {
            let t = array[j]
            array[j] = array[i]
            array[i] = t
            changed.push({a:i, b:j})
          }
        }
      }
      return changed
    }

    function rand(min, max) {
      return min + Math.floor( Math.random() * (max - min + 1) )
    }
  </script>
</body>
</html>
